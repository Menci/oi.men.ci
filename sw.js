var e=self,t=new URL(e.location.href).searchParams,a=t.get("t"),n=t.get("404");e.addEventListener("install",(t=>{t.waitUntil(e.skipWaiting())})),e.addEventListener("fetch",(t=>{const i=new URL(t.request.url);if("GET"!==t.request.method||i.origin!==e.origin)return;const r=a+i.pathname.slice(1)+i.search;t.respondWith((async()=>{let e=await fetch(r);return 404===e.status&&n&&(e=await fetch(a+n)),e.ok?e:fetch(t.request)})())}));